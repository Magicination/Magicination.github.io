
<html>
<head>
   <meta http-equiv="content-type" content="text/html; charset=windows-1251">
                                                                            
   <title>vvedenie</title>
</head>
<body text="#000000" bgcolor="pink" link="#0000ee" vlink="#551a8b" alink="#ff0000">
<b><font size=+1>Введение</font></b>
<p><font size=+1><a href="Smart-card.html">Содержание</a>
<br>
<hr width="100%">
<br>Смарт-карта, по своим размерам напоминающая кредитную, способна хранить
и обрабатывать информацию с помощью полупроводниковых электронных схем,
спрятанных внутри пластикового корпуса. Интеллектуальная смарт-карта похожа
на крошечный микрокомпьютер. Она содержит микропроцессор и может считывать
и записывать информацию, а также производить определенные вычисления. Карта
памяти не имеет микропроцессора и предназначена только для хранения информации.
В карту памяти встроены некоторые механизмы обеспечения безопасности, ограничивающие
доступ к хранимой в ней информации.
<p>Основные составляющие смарт-карт - это центральный процессор, ОЗУ, ПЗУ,
EPROM (ППЗУ - память, которая может быть прочитана много раз, но записывается
однократно. Как правило, организация, эмитировавшая карточку, записывает
в ПЗУ данные о ее владельце), EEPROM (ЭСППЗУ - память, которая может быть
перезаписана и считана многократно: здесь хранятся регулярно изменяемые
данные), система обмена данными с внешними устройствами, операционная система
и встроенная система защиты данных.
<p>В стандарте ISO 7816 (части 1-7), утвержденном Международной организацией
по стандартизации (International Standard Organization, ISO), определяются
правила, регулирующие самые различные аспекты, связанные со смарт-картами.
Стандарт ISO 7816 состоит из следующих разделов:
<li>
физические характеристики (часть 1);</li>

<li>
размеры и расположение контактов (часть 2);</li>

<li>
электронные сигналы и протоколы передачи (часть 3);</li>

<li>
команды для обмена информацией для межотраслевого взаимодействия (часть
4);</li>

<li>
идентификаторы приложений (часть 5);</li>

<li>
межотраслевые элементы данных (часть 6);</li>

<li>
межотраслевые команды SCQL (часть 7).</li>

<br>&nbsp;
<p>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<p>На рис. 1 представлены физические характеристики смарт-карт, определенные
в первой части стандарта ISO 7816.
<center><img src="images/smphysic.gif" alt="picture 1" nosave border=0 height=170 width=431>
<br><font size=-1><b>Рис. 1.</b> Физические характеристики</font></center>

<p>У смарт-карт нет источника питания, дисплея и клавиатуры. Взаимодействие
с окружающим миром производится с помощью последовательного коммуникационного
интерфейса, имеющего восемь контактов. Расположение и размеры контактов
описываются во второй части стандарта ISO 7816. На рис. 2 показаны контакты
смарт-карты.
<center>
<p><img src="images/smcontac.gif" alt="picture 2" nosave border=0 height=125 width=470>
<br><font size=-1><b>Рис. 2.</b> Восемь контактов смарт-карты</font></center>

<p>Смарт-карта вставляется в приемное устройство (Card Acceptance Device,
CAD), которое соединяется с компьютером. Кроме того, в состав приемного
устройства может входить терминал, считыватель и интерфейсный механизм
(interface device, IFD). В числе его основных функций - обеспечение смарт-карты
энергией и установление соединения для обмена данными.
<p>В процессе взаимодействия два компьютера обмениваются пакетами данных,
которые создаются на основе определенного набора протоколов. Смарт-карты
общаются с окружающим миром при помощи собственных пакетов данных, которые
называются APDU (Application Protocol Data Units). Пакеты APDU содержат
либо команду, либо ответное сообщение. Технология смарт-карт моделирует
широко известный интерфейс "ведущий-ведомый" (master-slave), в котором
самой смарт-карте отводится пассивная роль. Другими словами, смарт-карта
всегда ждет от терминала команду APDU. Затем она выполняет указанное действие
и посылает терминалу ответный пакет, подтверждающий выполнение команды.
Между картой и терминалом происходит непрерывный обмен пакетами APDU, содержащими
команды и ответы на них.
<p>Структура пакета APDU описана в четвертой части стандарта ISO 7816.
Таблицы 1 и 2 иллюстрируют форматы пакетов APDU, содержащих команды и ответы.
<p><b>Табл. 1.</b> Команда APDU
<br>&nbsp;
<table border >
<caption>&nbsp;</caption>

<tr valign=top>
<td colspan="4"><b>Обязательный заголовок</b></td>

<td colspan="3"><b>Условное тело команды</b></td>
</tr>

<tr valign=top>
<td>CLA</td>

<td>INS</td>

<td>P1</td>

<td>P2</td>

<td>Lc</td>

<td>Поле данных</td>

<td>Le</td>
</tr>
</table>

<p>В заголовке кодируется выбранная команда. Она состоит из четырех полей:
класс (CLA), инструкция (INS), параметр 1 и параметр 2 (P1 и P2). Каждое
поле имеет размер 1 байт.
<li>
<b>CLA:</b> байт класса. Во многих смарт-картах данный байт используется
для идентификации приложения.</li>

<li>
<b>INS:</b> байт инструкции. В этом байте содержится код инструкции.</li>

<li>
<b>P1-P2: </b>байты параметров. Данные байты содержат дополнительную характеристику
команды APDU.</li>

<br>&nbsp;
<p>&nbsp;
<br>&nbsp;
<br>&nbsp;
<p>В поле <b>Lc</b> размещается количество байтов в поле данных команды
APDU.
<p>В поле <b>Le</b> заносится максимальное количество байтов, которое может
находиться в поле данных ответного APDU.
<p><b>Табл. 2.</b> Ответ на команду APDU
<br>&nbsp;
<table border >
<caption>&nbsp;</caption>

<tr valign=top>
<td><b>Условное тело ответа</b></td>

<td colspan="2"><b>Обязательная концевая часть</b></td>
</tr>

<tr valign=top>
<td>Поле данных</td>

<td>SW1</td>

<td>SW2</td>
</tr>
</table>

<p>Байты состояния SW1 и SW2 обозначают статус обработки картой команды
APDU.
<br>
<hr width="100%"><font size=+1>&nbsp;<a href="Smart-card.html">Содержание</a>
</body>
</html>
